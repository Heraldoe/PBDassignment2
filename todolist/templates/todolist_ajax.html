{% extends 'base.html' %}
{% block content %}
<style>
  h1 {
    font-size: x-large;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    align-items: center;
    text-align: center;
    margin-bottom: 35px;
    margin-top: 35px;
  }
  h2 {
    font-size: larger;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    text-align: left;
  }
  h4 {
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    text-align: center;
    margin-top: 30px;
  }
  h3 {
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
    text-align: left;
    margin-top: 35px;
  }
  #nounder {
    color: #FFFFFF;
    text-decoration: none;
  }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
$(document).ready(function() {
  function card(task) {
    return `
    <div class="col">
        <div class="card text-bg-dark mb-3" style="max-width: 18rem;">
            <h4>${task.fields.title}</h4>
            <div class="card-body">
                <h2 class="card-text">${task.fields.description}</h2>
                <p class="card-text">Created : ${task.fields.date}</small></p>
            </div>
        </div>
    </div>
`
};
function loop() {
        $.get("{% url 'todolist:show_json' %}", function(data) {
            $.each(data, function(i, value) {
                $("#uuu").append(card(value));
            });
        });
    };
loop();
})

</script>
<div class="col">
  <body style="background-image: url(https://i.pinimg.com/originals/ac/f6/94/acf6944e8300de6f05105448d3b8950b.jpg);">
<div class="row row-cols-1 row-cols-md-4 g-5" id="uuu">

</div>
<br>
<button type="button" class="btn btn-outline-dark"><a id = "nounder" href="{% url 'todolist:create_task' %}">New Task</a></button>
<button type="button" class="btn btn-outline-dark"><a id = "nounder" href="{% url 'todolist:logout' %}">Logout</a></button>

</body>   


{% endblock content %}